"use strict";(self["webpackChunkretter_chess_client"]=self["webpackChunkretter_chess_client"]||[]).push([[127],{9264:(e,t,n)=>{n.d(t,{W:()=>s});var o,s,i=function(e,t,n,o){function s(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,i){function a(e){try{u(o.next(e))}catch(t){i(t)}}function l(e){try{u(o["throw"](e))}catch(t){i(t)}}function u(e){e.done?n(e.value):s(e.value).then(a,l)}u((o=o.apply(e,t||[])).next())}))};(function(e){e["Black"]="black",e["White"]="white"})(o||(o={})),function(e){class t{constructor(e){this._obj=e}static getInstance(e,n){return i(this,void 0,void 0,(function*(){return new t(yield e.getCloudObject(Object.assign(Object.assign({},n),{classId:"User"})))}))}signUp(e,t){return i(this,void 0,void 0,(function*(){return this._obj.call(Object.assign(Object.assign({},t),{method:"signUp",body:e})).then((e=>e.data))}))}signIn(e,t){return i(this,void 0,void 0,(function*(){return this._obj.call(Object.assign(Object.assign({},t),{method:"signIn",body:e})).then((e=>e.data))}))}joinGame(e,t){return i(this,void 0,void 0,(function*(){return this._obj.call(Object.assign(Object.assign({},t),{method:"joinGame",body:e})).then((e=>e.data))}))}leaveGame(e,t){return i(this,void 0,void 0,(function*(){return this._obj.call(Object.assign(Object.assign({},t),{method:"leaveGame",body:e})).then((e=>e.data))}))}}e.User=t;class n{constructor(e){this._obj=e}static getInstance(e,t){return i(this,void 0,void 0,(function*(){return new n(yield e.getCloudObject(Object.assign(Object.assign({},t),{classId:"Game"})))}))}join(e,t){return i(this,void 0,void 0,(function*(){return this._obj.call(Object.assign(Object.assign({},t),{method:"join",body:e})).then((e=>e.data))}))}play(e,t){return i(this,void 0,void 0,(function*(){return this._obj.call(Object.assign(Object.assign({},t),{method:"play",body:e})).then((e=>e.data))}))}leave(e,t){return i(this,void 0,void 0,(function*(){return this._obj.call(Object.assign(Object.assign({},t),{method:"leave",body:e})).then((e=>e.data))}))}}e.Game=n}(s||(s={}))},1127:(e,t,n)=>{n.r(t),n.d(t,{default:()=>S});var o=n(3673);const s={class:"column q-pa-lg"},i={class:"row"},a=(0,o._)("div",{class:"text-h6"},"Sign In",-1),l={class:"text-subtitle2"},u=(0,o.Uk)(" If you don't have an account please "),c=(0,o.Uk)(". ");function r(e,t,n,r,d,h){const m=(0,o.up)("q-card-section"),v=(0,o.up)("q-input"),b=(0,o.up)("q-btn"),p=(0,o.up)("q-form"),g=(0,o.up)("q-card"),f=(0,o.up)("q-page");return(0,o.wg)(),(0,o.j4)(f,{class:"row items-center justify-evenly"},{default:(0,o.w5)((()=>[(0,o._)("div",s,[(0,o._)("div",i,[(0,o.Wm)(g,{square:"",style:{width:"500px"}},{default:(0,o.w5)((()=>[(0,o.Wm)(m,null,{default:(0,o.w5)((()=>[a,(0,o._)("div",l,[u,(0,o._)("a",{href:"javascript:",onClick:t[0]||(t[0]=(...t)=>e.toSignUp&&e.toSignUp(...t))},"click"),c])])),_:1}),(0,o.Wm)(m,{class:"q-pt-none"},{default:(0,o.w5)((()=>[(0,o.Wm)(p,{onSubmit:e.onSubmit,onReset:e.onReset,class:"q-gutter-md",autofocus:!0},{default:(0,o.w5)((()=>[(0,o.Wm)(v,{type:"email",modelValue:e.email,"onUpdate:modelValue":t[1]||(t[1]=t=>e.email=t),label:"Email","lazy-rules":"",rules:[e=>e&&e.length>0||"Please type your email"]},null,8,["modelValue","rules"]),(0,o.Wm)(v,{type:"password",modelValue:e.password,"onUpdate:modelValue":t[2]||(t[2]=t=>e.password=t),label:"Password","lazy-rules":"",rules:[e=>e&&e.length>0||"Please type your password"]},null,8,["modelValue","rules"]),(0,o._)("div",null,[(0,o.Wm)(b,{label:"Submit",type:"submit",color:"primary"}),(0,o.Wm)(b,{label:"Reset",type:"reset",color:"secondary",flat:"",class:"q-ml-sm"})])])),_:1},8,["onSubmit","onReset"])])),_:1})])),_:1})])])])),_:1})}var d=n(9264),h=n(1959),m=n(8825),v=n(9582),b=function(e,t,n,o){function s(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,i){function a(e){try{u(o.next(e))}catch(t){i(t)}}function l(e){try{u(o["throw"](e))}catch(t){i(t)}}function u(e){e.done?n(e.value):s(e.value).then(a,l)}u((o=o.apply(e,t||[])).next())}))};const p=(0,o.aZ)({name:"PageSignIn",components:{},props:["rio","userProfile"],setup(e,{emit:t}){const n=(0,m.Z)(),o=(0,v.tv)();n.loading.hide();const s=(0,h.iH)(null),i=(0,h.iH)(null);return e.userProfile.online&&o.push("/"),{email:s,password:i,onSubmit(){var o,a;return b(this,void 0,void 0,(function*(){try{n.loading.show();const o=yield d.W.User.getInstance(e.rio,{classId:"User",key:{name:"email",value:s.value}});o.signIn({password:i.value}).then((e=>t("custom-token",e.customToken)))}catch(l){console.log(l),n.loading.hide(),n.notify({color:"negative",message:(null===(a=null===(o=null===l||void 0===l?void 0:l.response)||void 0===o?void 0:o.body)||void 0===a?void 0:a.message)||"Something went wrong :("})}}))},onReset(){s.value=null,i.value=null},toSignUp(){o.push("/sign-up")}}}});var g=n(4260),f=n(4379),y=n(151),j=n(5589),w=n(5269),_=n(3037),O=n(6114),k=n(7518),I=n.n(k);const U=(0,g.Z)(p,[["render",r]]),S=U;I()(p,"components",{QPage:f.Z,QCard:y.Z,QCardSection:j.Z,QForm:w.Z,QInput:_.Z,QBtn:O.Z})}}]);